<!DOCTYPE html>
<html>
<head>
    <title>Look mama, using sockets!</title>
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.6.4.min.js"></script>
    <script src="/js/sproutcore-2.0.js"></script>
    <script src="/js/chat.js"></script>
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <h1>Chatty server</h1>
    
    <script type="text/x-handlebars">
        Name:
        {{view Chat.personView id="person" type="text" placeholder="Please enter your name"}}
        <br />
        Message:
        {{view Chat.messageView id="message" type="text" placeholder="Type a message and press <ENTER>" }}
    </script>
    
    <script type="text/x-handlebars">
        {{#collection contentBinding="Chat.pending" tagName="div"}}
        <span class='name'>{{content}} is typing...</span>
        {{/collection}}
    </script>
    
    <script type="text/x-handlebars">
        {{#collection contentBinding="Chat.messages" tagName="div"}}
            <span class='time'>[{{content.time}}]</span>
            <span class='name'>{{content.person}}</span>:
            <span class='text'>{{content.message}}</span>
        {{/collection}}
    </script>
</body>
</html>